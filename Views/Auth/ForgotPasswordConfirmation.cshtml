@{
    ViewData["Title"] = "Confirmación de Olvido de Contraseña";
    Layout = "_BlankLayout";
    var resetLink = TempData["ResetPasswordLink"] as string;
}

@section PageStyles {
    <link rel="stylesheet" href="~/vendor/css/pages/page-auth.css">
    }

<div class="container-xxl">
    <div class="authentication-wrapper authentication-basic container-p-y">
        <div class="authentication-inner py-6">
            <div class="card px-sm-6 px-0">
                <div class="card-body">
                    <div class="app-brand justify-content-center mb-5">
                        <a asp-controller="Home" asp-action="Index" class="app-brand-link gap-2">
                            <span class="app-brand-logo demo">@await Html.PartialAsync("../_Partials/_Macros")</span>
                            <span class="app-brand-text demo text-heading fw-bold">@TempData.Peek("appName")</span>
                        </a>
                    </div>
                    <h4 class="mb-1">Instrucciones Enviadas</h4>
                    <p class="mb-6">
                        Si existe una cuenta asociada con el correo electrónico proporcionado,
                        hemos enviado instrucciones para restablecer tu contraseña. Por favor, revisa tu bandeja de entrada (y la carpeta de spam).
                    </p>

                    @if (!string.IsNullOrEmpty(resetLink) && Context.Request.Host.Host.Contains("localhost")) // Solo mostrar en localhost por seguridad
                    {
                        <div class="alert alert-info mt-3">
                            <h5 class="alert-heading">Enlace de Restablecimiento (Solo para Desarrollo):</h5>
                            <p>Como el envío de correo no está configurado, puedes usar este enlace para continuar:</p>
                            <p><a href="@resetLink">Restablecer Contraseña</a></p>
                            <hr>
                            <p class="mb-0"><small>Este enlace solo se muestra en entorno de desarrollo.</small></p>
                        </div>
                    }

                    <div class="text-center mt-4">
                        <a asp-controller="Auth" asp-action="LoginBasic" class="btn btn-primary">
                            Volver a Iniciar Sesión
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
